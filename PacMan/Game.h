#pragma once
#include <hge.h>
#include <hgesprite.h>
#include <hgefont.h>
#include <vector>
#include "Block.h"
#include "Enemy.h"
#include "Player.h"


class Game
{
private:
	const int MAXQUANTITYENEMYONMAP = 4;
	HGE* hge;
	Player* player;
	Enemy* ListEnemy[4];
	const int speed = 2;
	float SaveTimeForMoving;
	const float ClockRandomMoving = 0.1f;
	void Control();
	void RenderMap();
	void CreateMap();
	std::vector<Block*> BlockOnMap;
	Direction RandomEnemyMoving();
	bool CheckCollision(BaseObject* obj1, BaseObject* obj2);
public:
	const int TEXTURESIZE = 48;
	bool isGame;
	void FrameFunc();
	void RenderFunc();
	Game(HGE* hge);
	~Game();
private:
	//19*41
	std::string TileMap[19] =
	{
		"0000000000000000000000000000000000000000",//1
		"0808888888888888888880888888088888888880",//2
		"0800000000000000000080880008088888888880",//3
		"0808888088888888888880888888088888888880",//4
		"0808888088888888888880888888088888888880",//5
		"0808888088888888888880888888088888888880",//6
		"0808888088888888888880888888088888888880",//7
		"8808888088888888888880888888088888888888",//8
		"0808888888888888888880888888088888888880",//9
		"0808888088888888888880888888088888888880",//10
		"0808888088888888888880888888088888888880",//11
		"0888888088888888888888888888888888888880",//12
		"0888888088888888888888888888888888888880",//13
		"0888888088888888888888888888888888888880",//14
		"0800000000000000000000000000000888888880",//15
		"0888888888888888888888888888888888888880",//16
		"0800000000000000000000000000000888888880",//17
		"0888888888888888888888888888888888888880",//18
		"0000000000000000000000000000000000000000"//19
	};
};

